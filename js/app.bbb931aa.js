(function(t){function e(e){for(var r,a,i=e[0],s=e[1],u=e[2],p=0,d=[];p<i.length;p++)a=i[p],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);l&&l(e);while(d.length)d.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],r=!0,a=1;a<n.length;a++){var i=n[a];0!==o[i]&&(r=!1)}r&&(c.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},a={app:0},o={app:0},c=[];function i(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-0983ca86":"2141be48","chunk-a59a5f58":"83c22fdc"}[t]+".js"}function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n={"chunk-0983ca86":1,"chunk-a59a5f58":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise((function(e,n){for(var r="css/"+({}[t]||t)+"."+{"chunk-0983ca86":"76c0a334","chunk-a59a5f58":"8d9030ef"}[t]+".css",o=s.p+r,c=document.getElementsByTagName("link"),i=0;i<c.length;i++){var u=c[i],p=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(p===r||p===o))return e()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],p=u.getAttribute("data-href");if(p===r||p===o)return e()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=e,l.onerror=function(e){var r=e&&e.target&&e.target.src||o,c=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=r,delete a[t],l.parentNode.removeChild(l),n(c)},l.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(l)})).then((function(){a[t]=0})));var r=o[t];if(0!==r)if(r)e.push(r[2]);else{var c=new Promise((function(e,n){r=o[t]=[e,n]}));e.push(r[2]=c);var u,p=document.createElement("script");p.charset="utf-8",p.timeout=120,s.nc&&p.setAttribute("nonce",s.nc),p.src=i(t);var d=new Error;u=function(e){p.onerror=p.onload=null,clearTimeout(l);var n=o[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}o[t]=void 0}};var l=setTimeout((function(){u({type:"timeout",target:p})}),12e4);p.onerror=p.onload=u,document.head.appendChild(p)}return Promise.all(e)},s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/vue-shop/",s.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],p=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var l=p;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"0411":function(t,e,n){},"0865":function(t,e,n){},"08e9":function(t,e,n){t.exports=n.p+"img/6134992334.6e1a82f2.webp"},"0a9b":function(t,e,n){var r={"./6123150777.webp":"6490","./6126039472.webp":"4131","./6126040354.webp":"b7a2","./6128597660.webp":"2b15","./6134992334.webp":"08e9","./6136170572.webp":"2618","./6136172483.webp":"f122","./6140906765.webp":"956c","./6142673815.webp":"ec41","./6142681673.webp":"8d2a","./6142683276.webp":"19d5","./6148226736.webp":"918e"};function a(t){var e=o(t);return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=o,t.exports=a,a.id="0a9b"},1274:function(t,e,n){"use strict";n("0411")},"19d5":function(t,e,n){t.exports=n.p+"img/6142683276.b9c0ee9d.webp"},2618:function(t,e,n){t.exports=n.p+"img/6136170572.02483227.webp"},"2b15":function(t,e,n){t.exports=n.p+"img/6128597660.94e5d44a.webp"},"340c":function(t,e,n){"use strict";n("0865")},4131:function(t,e,n){t.exports=n.p+"img/6126039472.eb35127a.webp"},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("f5df1");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("app-header"),n("router-view")],1)},o=[],c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("header",{staticClass:"header"},[r("div",{staticClass:"container"},[r("div",{staticClass:"header__wrapper"},[r("div",{staticClass:"header__back"},[t.isCatalog?t._e():r("router-link",{attrs:{to:"/"}},[t._v("В каталог")])],1),r("div",{staticClass:"header__logo"},[r("router-link",{attrs:{to:"/"}},[r("img",{attrs:{src:n("9d64"),alt:"",width:"60",height:"60"}})])],1),r("div",{staticClass:"header__buttons"},[r("router-link",{attrs:{to:"Cart"}},[r("icon-cart"),t.$store.getters.isCartEmpty?t._e():r("div",{staticClass:"counter"},[t._v(" "+t._s(t.$store.getters.getTotalQuantity)+" ")])],1),r("router-link",{attrs:{to:"Favorites"}},[r("icon-heart"),t.$store.getters.isFavEmpty?t._e():r("div",{staticClass:"counter"},[t._v(" "+t._s(t.$store.getters.getFavQuantity)+" ")])],1)],1)])])])},i=[],s=(n("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 189.948 189.948"}},[n("path",{attrs:{d:"M164.613 56.66L132.259 9.34a7.61 7.61 0 00-12.562 8.59l26.437 38.659H43.815L70.247 17.93a7.607 7.607 0 00-1.986-10.576A7.605 7.605 0 0057.688 9.34L25.334 56.66C11.248 57.375 0 69.026 0 83.29c0 7.033 2.787 13.69 7.74 18.682l10.708 63.311c.378 10.343 8.91 18.641 19.341 18.641h114.367c10.431 0 18.963-8.296 19.341-18.641l10.708-63.308c4.953-4.994 7.743-11.651 7.743-18.684-.001-14.262-11.249-25.916-25.335-26.631zm5.76 35.519l-2.252 1.811-11.722 69.306-.107 1.268a4.143 4.143 0 01-4.137 4.139H37.789a4.143 4.143 0 01-4.139-4.139L21.821 93.992l-2.25-1.811c-2.77-2.229-4.357-5.471-4.357-8.894 0-6.333 5.148-11.481 11.476-11.481h136.558c6.328 0 11.476 5.151 11.476 11.481.006 3.426-1.581 6.668-4.351 8.892z"}}),n("path",{attrs:{d:"M131.793 91.687a7.609 7.609 0 00-7.609 7.609v53.333a7.609 7.609 0 1015.218 0V99.295a7.61 7.61 0 00-7.609-7.608zM94.975 91.687a7.609 7.609 0 00-7.609 7.609v53.333a7.609 7.609 0 1015.218 0V99.295a7.609 7.609 0 00-7.609-7.608zM58.152 91.687a7.609 7.609 0 00-7.609 7.609v53.333a7.609 7.609 0 1015.218 0V99.295a7.607 7.607 0 00-7.609-7.608z"}})])}),u=[],p=n("2877"),d={},l=Object(p["a"])(d,s,u,!1,null,null,null),f=l.exports,m=n("a2e2"),v={components:{IconCart:f,IconHeart:m["a"]},computed:{isCatalog:function(){return"Catalog"===this.$route.name}}},h=v,b=(n("1274"),Object(p["a"])(h,c,i,!1,null,"3c6d88bd",null)),g=b.exports,_={components:{AppHeader:g},mounted:function(){this.$store.dispatch("loadProducts")},methods:{},computed:{}},C=_,w=(n("034f"),Object(p["a"])(C,a,o,!1,null,null,null)),y=w.exports,x=n("1da1"),k=n("0f40"),F=n.n(k),O=(n("96cf"),n("d81d"),n("caad"),n("2532"),n("4de4"),n("d3b7"),n("2f62"));n("ddb0");function I(t){return t.keys().map(t)}function j(){var t=I(n("0a9b")),e=F()(t.length-1);return t[e]}var E=9,P=999;r["a"].use(O["a"]);var $=new O["a"].Store({state:{products:[],cart:[],favorites:[]},mutations:{setProducts:function(t,e){t.products=e.map((function(t){return t.price=F()(E,P),t.image=j(),t.quantInCart=0,t.isFav=!1,t}))},addToCart:function(t,e){t.cart.includes(e)||(e.quantInCart=1,t.cart.push(e))},removeFromCart:function(t,e){t.cart.includes(e)&&(e.quantInCart=0,t.cart=t.cart.filter((function(t){return t!==e})))},addToFav:function(t,e){t.favorites.includes(e)||(e.isFav=!0,t.favorites.push(e))},removeFromFav:function(t,e){t.favorites.includes(e)&&(e.isFav=!1,t.favorites=t.favorites.filter((function(t){return t!==e})))}},actions:{loadProducts:function(t){return Object(x["a"])(regeneratorRuntime.mark((function e(){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,fetch("https://random-data-api.com/api/food/random_food?size=30");case 3:return r=e.sent,e.next=6,r.json();case 6:a=e.sent,n("setProducts",a);case 8:case"end":return e.stop()}}),e)})))()}},getters:{isCartEmpty:function(t){return 0===t.cart.length},isFavEmpty:function(t){return 0===t.favorites.length},getTotalPrice:function(t){return t.cart.reduce((function(t,e){return t+e.price*e.quantInCart}),0)},getTotalQuantity:function(t){return t.cart.reduce((function(t,e){return t+e.quantInCart}),0)},getFavQuantity:function(t){return t.favorites.length}}}),T=(n("3ca3"),n("8c4f")),q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"catalog"},[n("div",{staticClass:"container"},[n("h1",{staticClass:"catalog__title"},[t._v("Каталог товаров")]),n("div",{staticClass:"catalog__wrapper"},t._l(t.products,(function(t){return n("catalog-item",{key:t.uid,attrs:{product:t}})})),1)])])},L=[],M=n("f81c"),S={name:"Catalog",components:{CatalogItem:M["a"]},data:function(){return{}},computed:{products:function(){return this.$store.state.products}}},z=S,A=(n("8b01"),Object(p["a"])(z,q,L,!1,null,"2c6a90ac",null)),N=A.exports;r["a"].use(T["a"]);var Q=[{path:"/",name:"Catalog",component:N},{path:"/cart",name:"Cart",component:function(){return n.e("chunk-a59a5f58").then(n.bind(null,"b789"))}},{path:"/favorites",name:"Favorites",component:function(){return n.e("chunk-0983ca86").then(n.bind(null,"48d5"))}}],D=new T["a"]({routes:Q}),H=D;r["a"].config.productionTip=!1,new r["a"]({store:$,router:H,render:function(t){return t(y)}}).$mount("#app")},6490:function(t,e,n){t.exports=n.p+"img/6123150777.b9c62da8.webp"},"85ec":function(t,e,n){},"8b01":function(t,e,n){"use strict";n("ff2e")},"8d2a":function(t,e,n){t.exports=n.p+"img/6142681673.67fcc8cc.webp"},"8ebc":function(t,e,n){"use strict";n("cdde")},"918e":function(t,e,n){t.exports=n.p+"img/6148226736.0e55ed9b.webp"},"956c":function(t,e,n){t.exports=n.p+"img/6140906765.f85662d8.webp"},"9d64":function(t,e,n){t.exports=n.p+"img/logo.a5e2e159.png"},a2e2:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 455 455"}},[n("path",{attrs:{d:"M326.632 10.346c-38.733 0-74.991 17.537-99.132 46.92-24.141-29.384-60.398-46.92-99.132-46.92C57.586 10.346 0 67.931 0 138.714 0 194.14 33.05 258.249 98.23 329.26c50.161 54.647 104.728 96.959 120.257 108.626l9.01 6.769 9.01-6.768c15.529-11.667 70.098-53.978 120.26-108.625C421.949 258.251 455 194.141 455 138.714c0-70.783-57.586-128.368-128.368-128.368zm8.034 298.628c-41.259 44.948-85.648 81.283-107.169 98.029-21.52-16.746-65.907-53.082-107.166-98.03C61.236 244.592 30 185.717 30 138.714c0-54.24 44.128-98.368 98.368-98.368 35.694 0 68.652 19.454 86.013 50.771l13.119 23.666 13.119-23.666c17.36-31.316 50.318-50.771 86.013-50.771 54.24 0 98.368 44.127 98.368 98.368 0 47.005-31.237 105.88-90.334 170.26z"}})])},a=[],o=(n("340c"),n("2877")),c={},i=Object(o["a"])(c,r,a,!1,null,"efc2d090",null);e["a"]=i.exports},b7a2:function(t,e,n){t.exports=n.p+"img/6126040354.dcfe58c4.webp"},cdde:function(t,e,n){},ec41:function(t,e,n){t.exports=n.p+"img/6142673815.e221420e.webp"},f122:function(t,e,n){t.exports=n.p+"img/6136172483.01d663f0.webp"},f81c:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"catalog__item"},[n("div",{staticClass:"item__header"},[n("div",{staticClass:"item__image"},[n("img",{attrs:{src:t.product.image,alt:"",width:"240",height:"240"}})]),t.isCart?t._e():n("button",{staticClass:"fav-btn",on:{click:t.handleFav}},[n("icon-heart",{class:{active:t.product.isFav}})],1)]),n("div",{staticClass:"item__body"},[n("div",{staticClass:"item__price"},[t._v(t._s(t.product.price)+" ₽")]),n("p",{staticClass:"item__name"},[t._v(t._s(t.product.dish))]),n("div",{staticClass:"item__buttons"},[t.isCart||t.isInCart?!t.isCart&&t.isInCart?n("router-link",{staticClass:"item__button picked",attrs:{to:"Cart"}},[t._v("К корзине ")]):t._e():n("button",{staticClass:"item__button",on:{click:t.addToCart}},[t._v(" В корзину ")]),t.isInCart||t.isCart?n("div",{staticClass:"item__quantity"},[n("button",{on:{click:t.decreaseProductQuantity}},[t._v("-")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.product.quantInCart,expression:"product.quantInCart"}],attrs:{readonly:""},domProps:{value:t.product.quantInCart},on:{input:function(e){e.target.composing||t.$set(t.product,"quantInCart",e.target.value)}}}),n("button",{on:{click:t.increaseProductQuantity}},[t._v("+")])]):t._e()],1),t.isCart?n("div",{staticClass:"item__options"},[n("a",{on:{click:function(e){return e.preventDefault(),t.handleFav.apply(null,arguments)}}},[t.product.isFav?n("span",{staticClass:"red"},[t._v("В избранном")]):n("span",[t._v(" В избранное ")])]),n("a",{on:{click:function(e){return e.preventDefault(),t.removeFromCart.apply(null,arguments)}}},[t._v("Удалить")])]):t._e()])])},a=[],o=(n("b0c0"),n("a2e2")),c={components:{IconHeart:o["a"]},props:{product:{type:Object,required:!0}},methods:{addToCart:function(){this.$store.commit("addToCart",this.product)},handleFav:function(){this.product.isFav?this.$store.commit("removeFromFav",this.product):this.$store.commit("addToFav",this.product)},removeFromCart:function(){this.$store.commit("removeFromCart",this.product)},increaseProductQuantity:function(){this.product.quantInCart++},decreaseProductQuantity:function(){1===this.product.quantInCart?this.removeFromCart():this.product.quantInCart--}},computed:{isCart:function(){return"Cart"===this.$route.name},isInCart:function(){return this.product.quantInCart>0}}},i=c,s=(n("8ebc"),n("2877")),u=Object(s["a"])(i,r,a,!1,null,"72f9d301",null);e["a"]=u.exports},ff2e:function(t,e,n){}});
//# sourceMappingURL=app.bbb931aa.js.map